from PyQt6.QtCore import QObject, pyqtSignal

import os

# Потоковый обработчик взаимодейтсвий с библиотекой pornhub_dl.
class pornhub_dl(QObject):

	#==========================================================================================#
	# >>>>> СВОЙСТВА <<<<< #
	#==========================================================================================#

	# Сигнал: завершение потока. Содержит: завершающий код вызова библиотеки.
	finished = pyqtSignal(int)
	# Исполняемая команда.
	__Command = None

	#==========================================================================================#
	# >>>>> МЕТОДЫ <<<<< #
	#==========================================================================================#

	# Конструктор: задаёт команду для выполнения.
	def __init__(self, Command: str):
		# 
		super().__init__()

		#---> Генерация свойств.
		#==========================================================================================#
		self.__Command = Command

	# Запускает выполнение команды.
	def run(self):
		# Выполнение команды.
		ExitCode = os.system(self.__Command)
		# Генерация сигнала с завершающим кодом приложения.
		self.finished.emit(ExitCode)